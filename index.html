<!DOCTYPE html>
<html>
<head>
<title>Cyber Access Portal</title>

<style>
body {
    margin:0;
    background:#050816;
    color:#00ccff;
    font-family: "Courier New", monospace;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    overflow:hidden;
}

#terminal {
    width:500px;
    max-width:90%;
    background:rgba(0,20,40,0.6);
    backdrop-filter: blur(10px);
    border:1px solid #00ccff;
    box-shadow:0 0 25px #00ccff;
    padding:20px;
    border-radius:10px;
}

.line {
    margin:5px 0;
}

.cursor {
    display:inline-block;
    width:10px;
    background:#00ccff;
    animation: blink 1s infinite;
}

@keyframes blink {
    0%{opacity:1;}
    50%{opacity:0;}
    100%{opacity:1;}
}

button {
    background:#00ccff;
    border:none;
    padding:8px 15px;
    margin-top:10px;
    cursor:pointer;
}

select,input,textarea {
    width:100%;
    margin:5px 0;
    background:#02121f;
    color:#00ccff;
    border:1px solid #00ccff;
    padding:6px;
}
</style>
</head>

<body>

<div id="terminal">
<div id="output"></div>
</div>

<script>

let adminPassword = "Admingod2015";

let accounts = JSON.parse(localStorage.getItem("accounts")) || {
lyla:{password:"lyla123",message:"i really like you youre too beautiful to ignore"},
lylas:{password:"lyla321",message:"I am truly sorry for making you feel insecure and uncomfortable."},
emmanuella:{password:"emmanuella123",message:"you always make my day"},
brodie:{password:"brodie123",message:"someone to trust and a really good friend"}
};

function saveAccounts(){
localStorage.setItem("accounts",JSON.stringify(accounts));
}

let output = document.getElementById("output");

function typeLine(text, callback){
let i=0;
let div=document.createElement("div");
div.className="line";
output.appendChild(div);

let interval=setInterval(()=>{
div.innerHTML=text.substring(0,i);
i++;
if(i>text.length){
clearInterval(interval);
if(callback) callback();
}
},30);
}

function start(){
typeLine("> CYBER ACCESS PORTAL");
typeLine("> INITIALIZING SYSTEM...");
setTimeout(()=>{
askUsername();
},800);
}

function askUsername(){
typeLine("> ENTER USERNAME:");
createInput("username", askPassword);
}

function askPassword(username){
typeLine("> ENTER PASSWORD:");
createInput("password",(pass)=>{
authenticate(username,pass);
},true);
}

function createInput(type, callback, hidden=false){
let input=document.createElement("input");
input.type= hidden ? "password" : "text";
output.appendChild(input);
input.focus();

input.addEventListener("keydown",function(e){
if(e.key==="Enter"){
let value=input.value;
input.remove();
callback(value);
}
});
}

function authenticate(user,pass){

if(user==="admin" && pass===adminPassword){
openAdmin();
return;
}

if(!accounts[user]){
typeLine("> ACCESS DENIED");
return;
}

if(accounts[user].password!==pass){
typeLine("> ACCESS DENIED");
return;
}

typeLine("> ACCESS GRANTED",()=>{
setTimeout(()=>{
openAccount(user);
},500);
});
}

function openAccount(user){
output.innerHTML="";
typeLine("> WELCOME "+user.toUpperCase());
typeLine("> LOADING PROFILE...");
setTimeout(()=>{
typeLine(accounts[user].message);
},800);
}

function openAdmin(){
output.innerHTML="";
typeLine("> ADMIN MODE ACTIVATED");
setTimeout(()=>{
showAdminPanel();
},800);
}

function showAdminPanel(){

let list="";
for(let u in accounts){
list+=`<option value="${u}">${u}</option>`;
}

output.innerHTML=`
<h3>ADMIN PANEL</h3>

<select id="editUser">${list}</select>

<input id="newUsername" placeholder="Change Username">
<input id="newPassword" placeholder="Change Password">
<textarea id="newMessage" placeholder="New Message"></textarea>

<button onclick="saveChanges()">Save</button>
<button onclick="createAccount()">Create</button>
<button onclick="deleteAccount()">Delete</button>
<button onclick="location.reload()">Exit</button>
`;
}

function saveChanges(){
let oldUser=document.getElementById("editUser").value;
let newUser=document.getElementById("newUsername").value||oldUser;
let newPass=document.getElementById("newPassword").value;

if(newUser!==oldUser){
accounts[newUser]=accounts[oldUser];
delete accounts[oldUser];
}

accounts[newUser].message=document.getElementById("newMessage").value||accounts[newUser].message;

if(newPass.trim()!==""){
accounts[newUser].password=newPass;
}

saveAccounts();
alert("Saved");
location.reload();
}

function deleteAccount(){
let user=document.getElementById("editUser").value;
delete accounts[user];
saveAccounts();
alert("Deleted");
location.reload();
}

function createAccount(){
let name=prompt("Username:");
let pass=prompt("Password:");
if(!name||!pass)return;

accounts[name]={
password:pass,
message:"New account message"
};

saveAccounts();
alert("Created");
location.reload();
}

start();

</script>

</body>
</html>
