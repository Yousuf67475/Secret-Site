<!DOCTYPE html>
<html>
<head>
<title>Private Portal</title>

<style>
body {
  margin:0;
  font-family: Arial, sans-serif;
  background:#f4f6f8;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

.container {
  background:white;
  width:360px;
  padding:25px;
  border-radius:15px;
  box-shadow:0 8px 25px rgba(0,0,0,0.1);
  text-align:center;
}

input, button, textarea {
  width:90%;
  padding:10px;
  margin:8px 0;
  border-radius:8px;
  border:1px solid #ccc;
}

button {
  background:#4a90e2;
  color:white;
  border:none;
  cursor:pointer;
}

button:hover {
  background:#357bd8;
}

#result {
  margin-top:15px;
  font-size:15px;
}

.admin-panel {
  margin-top:15px;
  border-top:1px solid #ddd;
  padding-top:15px;
}
</style>
</head>

<body>

<div class="container">
  <h2>Private Portal</h2>

  <input type="text" id="username" placeholder="Username">
  <input type="password" id="password" placeholder="Password">
  <button onclick="login()">Login</button>

  <div id="result"></div>
</div>

<script>

let accounts = JSON.parse(localStorage.getItem("accounts")) || {
  admin: { password: "admin123", role: "admin" },
  emmanuella: { password: "1234", message: "You always make my day." },
  peace: { password: "1234", apology: true }
};

function saveAccounts(){
  localStorage.setItem("accounts", JSON.stringify(accounts));
}

function login(){
  let user = document.getElementById("username").value.toLowerCase().trim();
  let pass = document.getElementById("password").value.trim();
  let result = document.getElementById("result");

  if(!accounts[user]){
    result.innerHTML = "User not found.";
    return;
  }

  if(accounts[user].password !== pass){
    result.innerHTML = "Wrong password.";
    return;
  }

  // ADMIN
  if(accounts[user].role === "admin"){
    showAdminPanel();
    return;
  }

  // APOLOGY MODE
  if(accounts[user].apology){
    result.innerHTML = `
      <div style="text-align:left; line-height:1.6;">
      <h3>A Message</h3>
      I want to apologise properly.

I realise that I made you feel insecure and uncomfortable, and I take full responsibility for that.

You didn’t deserve to feel that way, especially because of me.

I’ve thought about it a lot, and I understand why it hurt.

I never wanted to make you doubt yourself or feel unsafe.

You matter to me, and your feelings matter to me.

I’m truly sorry.

I don’t expect you to forgive me instantly, but I hope in time I can earn that back.<br><br>
      I understand if you need space, but I truly am sorry.
      </div>
    `;
    return;
  }

  // NORMAL MESSAGE
  result.innerHTML = accounts[user].message;
}

function showAdminPanel(){
  let result = document.getElementById("result");

  result.innerHTML = `
  <div class="admin-panel">
    <h3>Admin Panel</h3>

    <input id="newUser" placeholder="Username">
    <input id="newPass" placeholder="Password">
    <textarea id="newMessage" placeholder="Message"></textarea>
    <label>
      <input type="checkbox" id="apologyMode"> Apology Mode
    </label>
    <button onclick="addAccount()">Add / Update Account</button>

    <hr>

    <input id="deleteUser" placeholder="Username to delete">
    <button onclick="deleteAccount()">Delete Account</button>
  </div>
  `;
}

function addAccount(){
  let u = document.getElementById("newUser").value.toLowerCase().trim();
  let p = document.getElementById("newPass").value.trim();
  let m = document.getElementById("newMessage").value.trim();
  let apology = document.getElementById("apologyMode").checked;

  if(!u || !p){
    alert("Username and password required.");
    return;
  }

  accounts[u] = { password:p };

  if(apology){
    accounts[u].apology = true;
  } else {
    accounts[u].message = m || "No message set.";
  }

  saveAccounts();
  alert("Account saved!");
}

function deleteAccount(){
  let u = document.getElementById("deleteUser").value.toLowerCase().trim();

  if(u === "admin"){
    alert("Cannot delete admin.");
    return;
  }

  if(accounts[u]){
    delete accounts[u];
    saveAccounts();
    alert("Account deleted.");
  } else {
    alert("User not found.");
  }
}

</script>

</body>
</html>

