<!DOCTYPE html>
<html>
<head>
<title>Private System</title>
<style>
body {
    margin:0;
    background:black;
    color:#00ffcc;
    font-family:Arial;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
}

.container {
    background:#111;
    padding:25px;
    border-radius:15px;
    width:350px;
    text-align:center;
    box-shadow:0 0 20px #00ffcc;
}

input, textarea {
    width:90%;
    padding:8px;
    margin:6px 0;
}

button {
    padding:8px 15px;
    margin-top:8px;
    cursor:pointer;
}
</style>
</head>
<body>

<div class="container" id="main">
<h2>PRIVATE SYSTEM</h2>
<input id="username" placeholder="Username"><br>
<input id="password" type="password" placeholder="Password"><br>
<button onclick="login()">LOGIN</button>
<div id="result"></div>
</div>

<script>

let adminPassword = "Admingod2015";

let accounts = JSON.parse(localStorage.getItem("accounts")) || {

lyla:{
password:"lyla123",
message:"i really like you youre too beautiful to ignore",
bg:"#000000",
text:"#00ffcc",
box:"#111",
button:""
},

lylas:{
password:"lyla321",
message:"I am truly sorry for making you feel insecure and uncomfortable.",
bg:"#1a1a1a",
text:"#ffb6c1",
box:"#111",
button:"Will you forgive me?"
},

emmanuella:{
password:"emmanuella123",
message:"you always make my day",
bg:"#000000",
text:"#00ffcc",
box:"#111",
button:""
},

scarlet:{
password:"scarlet123",
message:"You are someone to trust",
bg:"#000000",
text:"#00ffcc",
box:"#111",
button:""
},

brodie:{
password:"brodie123",
message:"someone to trust and a really good friend",
bg:"#000000",
text:"#00ffcc",
box:"#111",
button:""
}

};

function saveAccounts(){
localStorage.setItem("accounts",JSON.stringify(accounts));
}

function login(){

let user=document.getElementById("username").value.toLowerCase();
let pass=document.getElementById("password").value;

if(user==="admin" && pass===adminPassword){
openAdmin();
return;
}

if(!accounts[user]){
document.getElementById("result").innerHTML="User not found";
return;
}

if(accounts[user].password!==pass){
document.getElementById("result").innerHTML="Wrong password";
return;
}

openAccount(user);
}

function openAccount(user){

let acc=accounts[user];

document.body.style.background=acc.bg;

document.getElementById("main").innerHTML=`
<h2>${user}</h2>
<div style="background:${acc.box};padding:15px;border-radius:10px;color:${acc.text};">
${acc.message}
</div>
${acc.button ? `<br><button onclick="forgive()">${acc.button}</button>`:""}
<br><br>
<button onclick="location.reload()">Logout</button>
`;

}

function forgive(){
alert("Response recorded.");
}

function openAdmin(){

let list="";
for(let u in accounts){
list+=`<option value="${u}">${u}</option>`;
}

document.getElementById("main").innerHTML=`
<h2>ADMIN PANEL</h2>

<select id="editUser">${list}</select><br>

<input id="newUsername" placeholder="Change Username"><br>
<input id="newPassword" placeholder="Change Password"><br>

<textarea id="newMessage" placeholder="New Message"></textarea><br>

<label>Background</label><br>
<input type="color" id="bgColor"><br>

<label>Text Color</label><br>
<input type="color" id="textColor"><br>

<label>Box Color</label><br>
<input type="color" id="boxColor"><br>

<input id="buttonText" placeholder="Button Text (optional)"><br>

<button onclick="saveChanges()">Save Changes</button>
<button onclick="deleteAccount()">Delete</button>
<button onclick="createAccount()">Create New</button>
<button onclick="location.reload()">Logout</button>
`;

}

function saveChanges(){

let oldUser=document.getElementById("editUser").value;
let newUser=document.getElementById("newUsername").value.toLowerCase()||oldUser;
let newPass=document.getElementById("newPassword").value;

if(newUser!==oldUser){
accounts[newUser]=accounts[oldUser];
delete accounts[oldUser];
}

accounts[newUser].message=document.getElementById("newMessage").value||accounts[newUser].message;
accounts[newUser].bg=document.getElementById("bgColor").value||accounts[newUser].bg;
accounts[newUser].text=document.getElementById("textColor").value||accounts[newUser].text;
accounts[newUser].box=document.getElementById("boxColor").value||accounts[newUser].box;
accounts[newUser].button=document.getElementById("buttonText").value||accounts[newUser].button;

if(newPass.trim()!==""){
accounts[newUser].password=newPass;
}

saveAccounts();
alert("Saved");
location.reload();
}

function deleteAccount(){
let user=document.getElementById("editUser").value;
delete accounts[user];
saveAccounts();
alert("Deleted");
location.reload();
}

function createAccount(){

let name=prompt("New username:");
if(!name) return;

let pass=prompt("Password:");
if(!pass) return;

accounts[name.toLowerCase()] = {
password:pass,
message:"New account message",
bg:"#000000",
text:"#00ffcc",
box:"#111",
button:""
};

saveAccounts();
alert("Account created");
location.reload();
}

</script>

</body>
</html>
